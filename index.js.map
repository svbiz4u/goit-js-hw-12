{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = 'https://pixabay.com/api/';\nexport const API_KEY = '46275525-feefee5c0dcabc611e373a7fd';\n\nexport function fetchData(query) {\n    return fetch(\n      `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&per_page=15&safesearch=true&orientation=horizontal`\n    ).then(responce => {\n      if (!responce.ok) {\n        throw new Error(response.statusText);\n      }\n      return responce.json();\n    });\n  }\n\n\n\n//   import axios from \"axios\";\n\n\n\n//     import axios from \"axios\";\n\n// axios.get('https://pixabay.com/api/')\n// \t.then(response => {\n// \t\tconsole.log(response.data);\n//     console.log(response.status);\n//     console.log(response.statusText);\n//     console.log(response.headers);\n//     console.log(response.config);\n// \t})\n// \t.catch(error => {\n// \t\tconsole.log(error);\n// \t})\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  const markup = images.hits\n    .map(hit => {\n      return `\n           <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${hit.largeImageURL}\" download=false>\n                <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" class=\"gallery-img\" width=360  onclick=\"return false\" data-source=\"${hit.largeImageURL}\">\n                <ul class=\"description\">\n                    <li>\n                    <p>Likes</p>\n                    <p class=\"description-value\">${hit.likes}</p>\n                    </li>\n                    <li>\n                    <p>Views</p>\n                    <p class=\"description-value\">${hit.views}</p>\n                    </li>\n                    <li>\n                    <p>Comments</p>\n                    <p class=\"description-value\">${hit.comments}</p>\n                    </li>\n                    <li>\n                    <p>Downloads</p>\n                    <p class=\"description-value\">${hit.downloads}</p>\n                    </li>\n                </ul>\n            </a>\n            </li>\n            `;\n    })\n    .join('');\n  gallery.innerHTML = markup;\n}\n\nexport function showMessage(message) {\n  iziToast.show({\n    message: message,\n  });\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.classList.remove('visually-hidden');\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.classList.add('visually-hidden');\n}","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchData } from './js/pixabay-api';\nimport {\n  renderGallery,\n  showMessage,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst queryInput = document.querySelector('input[name=\"query\"]');\nconst gallery = document.querySelector('.gallery');\n\niziToast.settings({\n  messageColor: '#fafafb',\n  position: 'topRight',\n  backgroundColor: '#ef4040',\n  iconColor: '#fafafb',\n  close: false,\n});\n\nlet lightbox;\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = queryInput.value.trim();\n\n  if (query === '') {\n    showMessage('Please enter a search query.');\n    return;\n  }\n\n  gallery.innerHTML = '';\n\n  showLoader();\n\n  fetchData(queryInput.value.trim())\n    .then(images => {\n      if (images.hits.length === 0) {\n        showMessage(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      } else {\n        renderGallery(images);\n      }\n      if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a', {\n          captionsData: 'alt',\n          captionPosition: 'bottom',\n          captionDelay: 250,\n        });\n      } else {\n        lightbox.refresh();\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n});"],"names":["BASE_URL","API_KEY","fetchData","query","responce","renderGallery","images","gallery","markup","hit","showMessage","message","iziToast","showLoader","hideLoader","form","queryInput","lightbox","event","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAW,2BACXC,EAAU,qCAEhB,SAASC,EAAUC,EAAO,CAC7B,OAAO,MACL,GAAGH,CAAQ,QAAQC,CAAO,MAAME,CAAK,sEAC3C,EAAM,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,SAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,CACF,CCTI,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAO,KACnB,IAAIG,GACI;AAAA;AAAA,4CAE+BA,EAAI,aAAa;AAAA,4BACjCA,EAAI,YAAY,UAAUA,EAAI,IAAI,wEAAwEA,EAAI,aAAa;AAAA;AAAA;AAAA;AAAA,mDAIpGA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,mDAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,mDAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,mDAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,aAM3D,EACA,KAAK,EAAE,EACVF,EAAQ,UAAYC,CACtB,CAEO,SAASE,EAAYC,EAAS,CACnCC,EAAS,KAAK,CACZ,QAASD,CACb,CAAG,CACH,CAEO,SAASE,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,iBAAiB,CAC3C,CAEO,SAASC,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,iBAAiB,CACxC,CCjCA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAa,SAAS,cAAc,qBAAqB,EACzDT,EAAU,SAAS,cAAc,UAAU,EAEjDK,EAAS,SAAS,CAChB,aAAc,UACd,SAAU,WACV,gBAAiB,UACjB,UAAW,UACX,MAAO,EACT,CAAC,EAED,IAAIK,EAEJF,EAAK,iBAAiB,SAAUG,GAAS,CAKvC,GAJAA,EAAM,eAAc,EAENF,EAAW,MAAM,KAAI,IAErB,GAAI,CAChBN,EAAY,8BAA8B,EAC1C,MACD,CAEDH,EAAQ,UAAY,GAEpBM,IAEAX,EAAUc,EAAW,MAAM,MAAM,EAC9B,KAAKV,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC5BI,EACE,0EACV,EACQ,MACR,MACQL,EAAcC,CAAM,EAEjBW,EAOHA,EAAS,QAAO,EANhBA,EAAW,IAAIE,EAAe,aAAc,CAC1C,aAAc,MACd,gBAAiB,SACjB,aAAc,GACxB,CAAS,CAIT,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbN,IACAC,EAAK,MAAK,CAChB,CAAK,CACL,CAAC"}